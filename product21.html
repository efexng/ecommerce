<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Page</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="product.css">
    <script src="https://kit.fontawesome.com/7d399dc76b.js" crossorigin="anonymous"></script>
</head>

<body>
    <!-- Navigation bar  -->
    <nav>
        <a href="/"><img src="./assets/amazon_logo.png" width="100" alt="" srcset=""></a>
        <div class="nav-location">
            <img src="./assets/location_icon.png" height="20" alt="">
            <div>
                <p>Deliver to</p>
                <h1>United Kingdom</h1>
            </div>
        </div>
        <div class="nav-search">
            <div class="nav-search-category">
                <p>All</p>
                <img src="./assets/dropdown_icon.png" height="12" alt="">
            </div>
            <input type="text" class="nav-search-input" placeholder="Search Amazon" name="" id="">
            <img src="./assets/search_icon.png" class="nav-search-icon" alt="">
        </div>
        <div class="nav-language">
            <img src="./assets/us_flag.png" width="25px" alt="">
            <p>EN</p>
            <img src="./assets/dropdown_icon.png" width="8px" alt="">
        </div>
        <div class="nav-text">
            <a href="signin.html">
                <p>Hello, Sign In</p>
            </a>
            <h1>Account & Lists <img src="./assets/dropdown_icon.png" width="8px" alt=""></h1>
        </div>
        <div class="nav-text">
            <p>Return</p>
            <h1>& Orders</h1>
        </div>
        <a href="/signin.html" class="mobile-user-icon">
            <img src="./assets/user.png" alt="" srcset="">
        </a>
        <a href="cart.html" class="nav-cart">
            <img src="./assets/cart_icon.png" width="35px" alt="">
            <span id="cartcount" class="cartcount">0</span>
            <h4>Basket</h4>
        </a>
    </nav>

    <div class="nav-bottom">
        <div>
            <img src="./assets/menu_icon.png" width="25px" alt="">
            <p>All</p>
        </div>
        <p>Today's Deals</p>
        <p>Customer Services</p>
        <p>Registry</p>
        <p>Gift Crads</p>
        <p>Sell</p>
    </div>
    <!-- End Of Navigation bar  -->

    <p class="breadcrum">Games & Accessories > Marbles</p>

    <div class="product-display">
        <div class="product-d-image">
            <div class="product-icons">
                <img src="./assets/product21.jpg" width="60" alt="">
                <img src="./assets/product21.jpg" width="60" alt="">
                <img src="./assets/product21.jpg" width="60" alt="">
                <img src="./assets/product21.jpg" width="60" alt="">
                <img src="./assets/product21.jpg" width="60" alt="">
            </div>
            <div class="product-main-image">
                <img src="./assets/product21.jpg" width="400" alt="">
            </div>
        </div>
        <div class="product-d-details">
            <p class="product-title" id="product-title">
                ThinkFun Gravity Maze Falling Marble Challenge Logic Brain Game and STEM Toys for Kids and Adults Age 8 Years Up - Gifts for Children
            </p>
            <p class="brand-store">Visit the Ravensburger Store</p>
            <div class="product-rating">
                <div>
                    <div>4.6 <img src="./assets/rating_img.png" height="20px" alt=""></div>
                    <p> 1,239 ratings | Search this page</p>
                </div>
                <p class="seller-rank" id="seller-rank2"><img class="amazon-choice" src="./assets/amazon-choice.png"width="120" alt="" srcset=""></p>
                <h5>400+ bought in past month</h5>
                <hr>
            </div>
            <div class="product-d-price" id="product-price">
                <div>
                    <p>-22%</p>
                    <h1 id="product-price-value">$<span>24</span>.99</h1>
                </div>
                <h5>List Price: <span>$31.99</span></h5>
                <p>Get Fast,<b> Free Shipping</b> with <span> Amazon Prime</span></p>
                <p><span>FREE RETURNS</span></p>
                <p><span>Join Prime to buy this item at $20.29</span></p>
                <p>Available at a lower price from <span>other sellers</span> that may not
                    offer free Prime shipping
                </p>
            </div>
            <hr>
            <div class="product-description">
                <h1>About this item</h1>
                <ul>
                    <li>
                        Gravity Maze is a combination logic game, marble run, and STEM toy that's one of the best gifts you can buy for boys and girls age 8 and up. It contains 60x challenges from beginner to expert, a game grid, 9x towers, 1x target piece, and 3x marbles. An ideal Travel game and kids toy
                    </li>
                    <li>
                        Playing your way through the challenges builds critial skills such as spatial reasoning and planning, and is partly an engineering and building toy that provides a great stealth learning experience for young players
                    </li>
                    <li>
                        Trusted by Families Worldwide - With over 50 million games sold, ThinkFun is the world's leading manufacturer of brain games and mind challenging puzzles
                    </li>
                    <li>
                        Easy to learn with a clear, high quality instruction manual You can start playing and solving right away
                    </li>
                    <li>
                        ThinkFun Gravity Maze comes with 60 beginner to expert challenges that become increasingly difficult as you play through them
                    </li>
                </ul>
            </div>
        </div>
        <div class="product-d-purchase">
            <div class="title">
                <h3>Buy new:</h3> <img src="./assets/circle_icon.png" width="20px" alt="">
            </div>
            <h1 class="price">$ <span>24</span>.99</h1>
            <div class="gap">
                <p>Get <b>Fast, Free Shipping</b> with <span>Amazon Prime</span></p>
                <p><span>FREE RETURNS</span></p>
            </div>
            <div class="gap">
                <p><span>FREE Delivery</span> <b>Saturday</b></p>
                <p>Get <b>April 22</b> on orders shipped by Amazon over $35</p>
            </div>
            <div class="gap">
                <p>Or fastest delivery <b>Tomorrow</b>, <b>January 23</b>. Order within <span> 10 hrs 56 mins</span></p>
            </div>
            <div class="d-location">
                <img src="./assets/location_icon_dark.png" width="20px" alt="">
                <p><span>Deliver to Culwell Street WV10 0JT</span></p>
            </div>
            <h2 class="product-stock">In Stock</h2>
            <select class="product-quantity">
                <option value="1">Quantity: 1</option>
                <option value="2">Quantity: 2</option>
                <option value="3">Quantity: 3</option>
                <option value="4">Quantity: 4</option>
            </select>

            <a href="cart.html" id="addtocart"><button class="btn">Add to cart</button></a>
            <button class="btn product-buy">Buy Now</button>

            <div class="product-seller-info">
                <p>Ships from</p>
                <p><span>Amazon</span></p>
                <p>Sold by</p>
                <p><span>Narwey UK</span></p>
                <p>Returns</p>
                <p><span>Eligible for Retun Refund or
                        Replacement within 30 days of receipt
                    </span></p>
                <p>Payment</p>
                <p><span>Secure Transaction</span></p>
            </div>
            <hr>
            <button class="product-add-list">Add to List</button>
        </div>
    </div>

    <div class="product-slider-with-price">
        <h2>Related Products</h2>
        <div class="products">
            <div class="product-card">
                <div class="product-img-container">
                    <img src="./assets/product2-1.jpg" alt="">
                </div>
                <div class="product-offer">
                    <p>27% off</p> <span>Deal</span>
                </div>
                <p class="product-price">$ <span>14.49</span> List Price: 19.95</p>
                <h4>This product is the best for you</h4>
            </div>
            <div class="product-card">
                <div class="product-img-container">
                    <img src="./assets/product2-2.jpg" alt="">
                </div>
                <div class="product-offer">
                    <p>27% off</p> <span>Deal</span>
                </div>
                <p class="product-price">$ <span>14.49</span> List Price: 19.95</p>
                <h4>This product is the best for you</h4>
            </div>
            <div class="product-card">
                <div class="product-img-container">
                    <img src="./assets/product2-3.jpg" alt="">
                </div>
                <div class="product-offer">
                    <p>27% off</p> <span>Deal</span>
                </div>
                <p class="product-price">$ <span>14.49</span> List Price: 19.95</p>
                <h4>This product is the best for you</h4>
            </div>
            <div class="product-card">
                <div class="product-img-container">
                    <img src="./assets/product2-4.jpg" alt="">
                </div>
                <div class="product-offer">
                    <p>27% off</p> <span>Deal</span>
                </div>
                <p class="product-price">$ <span>14.49</span> List Price: 19.95</p>
                <h4>This product is the best for you</h4>
            </div>
            <div class="product-card">
                <div class="product-img-container">
                    <img src="./assets/product2-5.jpg" alt="">
                </div>
                <div class="product-offer">
                    <p>27% off</p> <span>Deal</span>
                </div>
                <p class="product-price">$ <span>14.49</span> List Price: 19.95</p>
                <h4>This product is the best for you</h4>
            </div>
            <div class="product-card">
                <div class="product-img-container">
                    <img src="./assets/product2-6.jpg" alt="">
                </div>
                <div class="product-offer">
                    <p>27% off</p> <span>Deal</span>
                </div>
                <p class="product-price">$ <span>14.49</span> List Price: 19.95</p>
                <h4>This product is the best for you</h4>
            </div>
            <div class="product-card">
                <div class="product-img-container">
                    <img src="./assets/product2-7.jpg" alt="">
                </div>
                <div class="product-offer">
                    <p>27% off</p> <span>Deal</span>
                </div>
                <p class="product-price">$ <span>14.49</span> List Price: 19.95</p>
                <h4>This product is the best for you</h4>
            </div>
            <div class="product-card">
                <div class="product-img-container">
                    <img src="./assets/product2-8.jpg" alt="">
                </div>
                <div class="product-offer">
                    <p>27% off</p> <span>Deal</span>
                </div>
                <p class="product-price">$ <span>14.49</span> List Price: 19.95</p>
                <h4>This product is the best for you</h4>
            </div>
            <div class="product-card">
                <div class="product-img-container">
                    <img src="./assets/product2-9.jpg" alt="">
                </div>
                <div class="product-offer">
                    <p>27% off</p> <span>Deal</span>
                </div>
                <p class="product-price">$ <span>14.49</span> List Price: 19.95</p>
                <h4>This product is the best for you</h4>
            </div>
            <div class="product-card">
                <div class="product-img-container">
                    <img src="./assets/product2-10.jpg" alt="">
                </div>
                <div class="product-offer">
                    <p>27% off</p> <span>Deal</span>
                </div>
                <p class="product-price">$ <span>14.49</span> List Price: 19.95</p>
                <h4>This product is the best for you</h4>
            </div>
            <div class="product-card">
                <div class="product-img-container">
                    <img src="./assets/product2-11.jpg" alt="">
                </div>
                <div class="product-offer">
                    <p>27% off</p> <span>Deal</span>
                </div>
                <p class="product-price">$ <span>14.49</span> List Price: 19.95</p>
                <h4>This product is the best for you</h4>
            </div>
            <div class="product-card">
                <div class="product-img-container">
                    <img src="./assets/product2-12.jpg" alt="">
                </div>
                <div class="product-offer">
                    <p>27% off</p> <span>Deal</span>
                </div>
                <p class="product-price">$ <span>14.49</span> List Price: 19.95</p>
                <h4>This product is the best for you</h4>
            </div>
        </div>
    </div>


    <footer class="product-footer">
        <img src="./assets/amazon_logo.png" width="100" alt="">
        <p>Â© 1996-2024, Amazon.com, Inc. or its affiliates</p>
    </footer>

    <script>
        const scrollContainder = document.querySelectorAll('.products')
        for (const item of scrollContainder) {
            item.addEventListener('wheel', (evt) => {
                evt.preventDefault();
                item.scrollLeft += evt.deltaY;
            })
        }

    </script>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // Retrieve cart items from localStorage
            const storedCartItems = localStorage.getItem("cartItems");
            if (storedCartItems) {
                const cartItems = JSON.parse(storedCartItems);
                updateCartCount(calculateCartCount(cartItems)); // Update cart count based on retrieved cart items
            }
            const addToCartBtn = document.getElementById("addtocart");
            const quantitySelect = document.querySelector(".product-quantity");

            addToCartBtn.addEventListener("click", function (event) {
                event.preventDefault(); // Prevent the default behavior of the link

                // Get product information dynamically using IDs
                const productName = document.getElementById("product-title").textContent;
                const productPriceText = document.getElementById("product-price-value").textContent.trim();
                const productPrice = parseFloat(productPriceText.replace('$', '').replace(',', ''));
                const productImage = "./assets/product21.jpg";
                const quantity = parseInt(quantitySelect.value);

                // Additional product information from product-info section
               





                // Seller information
                const sellerRankElement = document.getElementById("seller-rank");
                let sellerRank = null;

                if (sellerRankElement) {
                    const sellerRankText = sellerRankElement.textContent.trim();
                    const inIndex = sellerRankText.indexOf("in");

                    if (inIndex !== -1) {
                        sellerRank = sellerRankText.substring(inIndex).trim();
                    }
                }

                // Check if productPrice is a valid number
                if (!isNaN(productPrice)) {
                    // Proceed with using productPrice
                    console.log('Product price:', productPrice);
                } else {
                    console.error('Error parsing product price:', productPriceText);
                }



                const cartItem = {
                    name: productName,
                    price: productPrice,
                    image: productImage,
                    quantity: quantity,
                };
                addToCart(cartItem);
            });

            function addToCart(item) {
                // Get the existing cart items from localStorage
                let cartItems = localStorage.getItem("cartItems");

                // If there are no existing cart items, create an empty array
                if (!cartItems) {
                    cartItems = [];
                } else {
                    // Parse the existing cart items from JSON to an array
                    cartItems = JSON.parse(cartItems);
                }

                // Check if the item already exists in the cart
                const existingItem = cartItems.find(cartItem => cartItem.name === item.name);

                if (existingItem) {
                    // Update the quantity of the existing item
                    existingItem.quantity += item.quantity;
                } else {
                    // Add the new item to the cart items array
                    cartItems.push(item);
                }

                // Update the cart count display
                updateCartCount(cartItems.reduce((total, cartItem) => total + cartItem.quantity, 0));

                // Save the updated cart items back to localStorage
                localStorage.setItem("cartItems", JSON.stringify(cartItems));

                // Update the cart page
                updateCartPage();
            }



            function calculateCartCount(cartItems) {
                let totalCount = 0;
                cartItems.forEach(item => {
                    totalCount += item.quantity;
                });
                return totalCount;
            }

            function updateCartCount(count) {
                const cartCountElement = document.getElementById("cartcount");
                if (cartCountElement) {
                    let displayCount = count.toString();

                    if (count > 99) {
                        displayCount = "99+";
                        cartCountElement.classList.add("smaller");
                        cartCountElement.classList.remove("small");
                    } else if (count > 10) {
                        cartCountElement.classList.add("small");
                        cartCountElement.classList.remove("smaller");
                    } else {
                        cartCountElement.classList.remove("small", "smaller");
                    }

                    cartCountElement.textContent = displayCount;
                }
            }

        });
    </script>

</body>

</html>